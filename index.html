<!doctype html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivia Game</title>
    <!-- Added link to the jQuery Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Reset CSS -->
    <link rel="stylesheet" type="text/css" href="./assets/css/reset.css">
    <!-- Added a link to Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>

<style>

.centered-text {
    text-align:center
}

</style>

<body>
    <div class="centered-text"><h1>Trivia Game</h1></div>

    <container id=container>


    <div class="centered-text" id="question">Question</div>
    
    <div class="row">

        <div class="col-sm-2"></div>

        <div class="col-sm-4">
            <div class="centered-text">
                <div class="answer" id="option-0" data-value=true>Option 1</div>
            </div>
        </div>

        <div class="col-sm-4">
            <div class="centered-text">
                <div class="answer" id="option-1" data-value=false>Option 2</div>
            </div>
        </div>

        <div class="col-sm-2"></div>


    </div>

    <div class="row">

        <div class="col-sm-2"></div>

        <div class="col-sm-4">
            <div class="centered-text">
                <div class="answer" id="option-2" data-value=false>Option 3</div>
            </div>
        </div>
    
        <div class="col-sm-4">
            <div class="centered-text">
                <div class="answer" id="option-3" data-value=false>Option 4</div>
            </div>
        </div>

        <div class="col-sm-2"></div>
        
    </div>

    <div class="row">

        <div class="col-sm-2"></div>

        <div class="col-sm-8">
            <div class="centered-text" id="counter"></div>
        </div>

        <div class="col-sm-2"></div>

    </div>

    </container>


    <script>

        var trivQuestion = [
            quest1 = {
                question: "question 1",
                answers: ["right", "wrong", "wrong", "wrong"],
            },
            quest2 = {
                question: "question 2",
                answers: ["right", "wrong", "wrong", "wrong"],
            },
            quest3 = {
                question: "question 3",
                answers: ["right", "wrong", "wrong", "wrong"],
            },
            quest4 = {
                question: "question 3",
                answers: ["right", "wrong", "wrong", "wrong"],
            },
            quest5 = {
                question: "question 3",
                answers: ["right", "wrong", "wrong", "wrong"],
            }
        ]



        var timerCount = 10;
        var questCount = 0;
        var disArrayCount = 0;
        clockRunning = false;
        displayArray = [0, 1, 2, 3]
        
        var trivTimer
        var countTimer

        function shuffleArray(array) {  //used to shuffle the array of answers
            for (var i = array.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var temp = array[i];
                array[i] = array[j];
                array[j] = temp;
            }
        }

        function questionDisplay(num) {
            $("#question").text(trivQuestion[num].question);
            shuffleArray(displayArray);
            displayArray.forEach(function(str) {
                console.log(str);
            })
            displayArray.forEach(function(str) {
                $("#option-"+ str).text(trivQuestion[num].answers[disArrayCount])
                if (disArrayCount === 0) {
                    $("#option-" + str).attr("data-value", true);
                } else {
                    $("#option-"+ str).attr("data-value", false);
                }

                disArrayCount++;
            })
            disArrayCount = 0;

            timerStart();
        }

        function display() {

        }

        function counter() {
            timerCount--;
            // console.log(timerCount);
            $("#counter").text(timerCount);
        }

        function timerStart() {
            if (clockRunning) {
                return;
            }

            trivTimer = setTimeout(next, timerCount*1000);
            countTimer = setInterval(counter, 1000);
            $("#counter").text(timerCount);
            clockRunning = true;
        }
        
        function timerReset() {
            timerCount = 10;
            clearInterval(countTimer);
            clockRunning = false;
        }

        function next() {
            // $("#container").remove();
            questCount++;
            timerReset();
            questionDisplay(questCount);
            timerStart();
        }

        function test() {
            console.log($(this).attr("data-value"));
        }


        window.onload = function() {
            $(".answer").on("click", test);
            // $(".answer").hover(test); //used to test hover
        };

        function gameStart() {
            questionDisplay(questCount);
        }

        gameStart();


    </script>
    
</body>

</html>

